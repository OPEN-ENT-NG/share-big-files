<div class="row">

	<nav class="contextual-buttons twelve cell">
		<div class="action-buttons">
			<button ng-click="openNewFolderView()"><i18n>upload</i18n></button>
		</div>
		<lightbox show="lightbox.show" on-close="lightbox.show=false">
			<container template="lightbox"></container>
		</lightbox>
		<!-- Lightbox : Share sharebigfiles -->
		<div ng-if="showSharePanel">
			<lightbox show="showSharePanel" on-close="showSharePanel = false;">
				<share-panel app-prefix="'sharebigfiles'" resources="sharedSharebigfiles"></share-panel>
			</lightbox>
		</div>
	</nav>

</div>
<div class="row">
</div>
<article class="list-view">
	<table class="twelve">
		<thead class="tableheader whiteheader">
		<tr>
			<th class="icon" />
			<th class="content">
				<span translate content="title" ng-click="orderBy('title')"></span>
			</th>
			<th class="user">
				<span translate content="from" ng-click="orderBy('owner.displayName')"></span>
			</th>
			<th class="date">
				<span translate content="date" ng-click="orderBy('modified.$date')"></span>
			</th>
			<th class="date">
				<span translate content="Expire" ng-click="orderBy('modified.$date')"></span>
			</th>
			<th class="content">
				<span translate content="downloaded" ng-click="orderBy('owner.displayName')"></span>
			</th>
			<th class="content">
				<span translate content="size" ng-click="orderBy('owner.displayName')"></span>
			</th>
			<th class="content">
			</th>
		</tr>
		</thead>
		<tbody>
		<tr ng-repeat="sharebigfiles in uploads.all | orderBy:modified.$date" ng-class="{ checked: sharebigfiles.selected }">
			<td class="icon">
				<behaviour name="read" resource="sharebigfiles">
					<input type="checkbox" ng-click="selectedFile()" ng-model="sharebigfiles.selected"/>
				</behaviour>
			</td>
			<td class="content">
				<a ng-click="downloadFile('[[sharebigfiles._id]]')">
					[[sharebigfiles.fileNameLabel]]
				</a>
			</td>
			<td class="user">
				<a href="/userbook/annuaire#[[sharebigfiles.owner.userId]]">[[sharebigfiles.owner.displayName]]</a>
			</td>
			<td class="date">
				[[sharebigfiles.creationDate()]]
			</td>
			<td class="date">
				[[sharebigfiles.expireDate()]]
			</td>
			<td class="content">
				<a ng-if="[[sharebigfiles.downloadLogs.length]]>0" ng-click="downloadFileLog('[[sharebigfiles.fileId]]')">
					[[sharebigfiles.downloadLogs.length]] fois
				</a>
				<div ng-if="[[sharebigfiles.downloadLogs.length]]==0" >
					0 fois
				</div>
			</td>
			<td class="content">
				[[formatDocumentSize(sharebigfiles.fileMetadata.size)]]
			</td>
			<td class="content">
				<a ng-click="editFile(sharebigfiles)">
					Editer
				</a>
			</td>
		</tr>
		</tbody>
	</table>
</article>
